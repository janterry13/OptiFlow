\documentclass{OptiFlow}

\newtheorem{theorem}{Theorem}{}
\newtheorem{corollary}{Corollary}{}
\newtheorem{remark}{Remark}{}

\begin{document}

\supertitle{HackUPC 2023}

\title{Optimizing Supply Chain Robustness}

\author{\au{Nathaniel Mitrani $^{1}$}, \au{Alex Serrano $^{2}$}, \au{Jan Tarrats $^{3}$}}

\address{\add{1}{Mathematics and Data Science and Engineering, UPC, Barcelona, Spain}
\add{2}{Mathematics and Data Science and Engineering, UPC, Barcelona, Spain}
\add{3}{Mathematics and Computer Engineering, UPC, Barcelona, Spain}
}

\begin{abstract}
In this project, we propose a novel manner to optimize the robustness of a supply chain through stochastic modeling of its disruptions.
\end{abstract}

\maketitle

\section{Introduction}\label{sec1}
Supply chain robustness is of paramount importance for businesses, as it not only ensures operational continuity 
but also provides significant financial benefits. By investing in robust supply chains, 
companies can minimize disruptions and associated costs, such as production delays, inventory shortages, 
and customer dissatisfaction. A resilient supply chain reduces the likelihood of stockouts, thereby avoiding revenue losses and preserving customer loyalty. 
Ultimately, supply chain robustness directly contributes to a company's bottom line and long-term profitability.

\section{Problem Statement}\label{sec2}
We have a certain sales forecast, $s_t$, and a given storage capacity, $c_t$.
We assume that when demanding a certain amount of units in inventory, $q_t$, we model the resultant amount of units in inventory
as a normal distribution with mean $q_t$ and variance $\sigma^2$, a fixed parameter based on advanced studies about the state of the supply chain and its disruptions.
With the help of cost functions that help us penalize both the storage and the penalization of the stockout, we want to find the optimal amount of units to order, $q_t$, in order to minimize the expected cost of the supply chain.
These functions, decided by the company, are hereby assumed to be linear, with a fixed cost and a variable cost per unit, however,
the model can be easily adapted to other types of functions.

\section{Functions Definitions}
\subsection{Storage Cost Function}
We hereby define the storage cost function as follows:
\begin{itemize}
	\item $c$: fixed storage cost per unit
	\item $K_1$: administrative cost per order
	\item $n$: difference between the amount of units demanded in inventory and the amount of units forecasted to be sold
\end{itemize}

\begin{align*}
	&c, K_1 \in \mathbb{R}\\
	&n \equiv q_t - s_t\\
	&C\left( n \right) =  \begin{cases}
		0 \text{\qquad} &n \le  0\\
		c\cdot n +K_1 \text{\qquad} &n>0
	\end{cases}  
.\end{align*}

\subsection{Penalization Cost Function}
We hereby define the penalization cost function as follows, this is the cost of having a stockout:
\begin{itemize}
	\item $d$: fixed cost per unit
	\item $K_2$: administrative cost per order
	\item $n$: difference between the amount of units forecasted to be sold and the amount of units demanded in inventory
\end{itemize}

\begin{align*}
	&d,K_2 \in  \mathbb{R}\\
	&n \equiv s_t - q_t\\
	&\delta\left( n \right) = \begin{cases}
		0 \text{\qquad} &n \le  0\\
		d\cdot n + K_2 \text{\qquad} &n > 0
	\end{cases}
.\end{align*}

\subsection{Normal Density Function}
We hereby define the normal density function as follows:
\begin{itemize}
	\item $\mu \equiv q_t$: mean of the normal distribution, parameter to be optimized
	\item $\sigma^2$: variance of the normal distribution, fixed parameter
	\item $x$: value of the random variable
\end{itemize}

\begin{align*}
	&\sigma \in \mathbb{R}\\
	&\Phi_{\mu=q_t, \sigma^2}\left( x \right)   = \frac{1}{\sigma \sqrt{2\pi} }e^{- \frac{\left( x-\mu \right) ^2}{2 \sigma^2}}
.\end{align*}


\subsection{Loss function}
We assumed that given a demanded amount of units in inventory, $q_t$, the resultant amount of units in inventory
follows a normal distribution with mean $q_t$ and variance $\sigma^2$, that is only on the positive real numbers (and therefore scaled).
We must penalize two things, the storage and the penalization of the stockout, therefore, we define the loss function as 
the expected value of the sum of the storage cost function and the penalization cost function, as follows:

\subsubsection{Theoretical}
\begin{align*}
	loss\left( q_t \right)   = \int_{s_t}^{q_t} &c\left( z,s_t \right) \cdot \Phi_{\mu, \sigma^2}\left( z \right) dz+ \\
										&+ \int_{0}^{s_t} \delta\left( z,s_t \right)\cdot \Phi_{\mu, \sigma^2}\left( z \right) dz  
.\end{align*}

As we are solving this problem numerically, and depending on the decided cost 
functions, the problem does not admit a closed form solution, therefore, we must approximate the loss function.
To do so, we will use the following approximation:

\subsubsection{Aproximation}
\begin{align*}
	loss\left( q_t \right)  \approx \sum_{i = s_t}^{q_t+step} &c\left( i,s_t \right) \cdot \Phi_{\mu, \sigma^2}\left( i, q_t \right) + \\
	&+ \sum_{j = 0}^{s_t + step} \delta\left( j,s_t \right) \cdot \Phi_{\mu, \sigma^2}\left( j,q_t \right) 
.\end{align*}

\section{Problem Goal}
Therefore, our problem can be mathematically stated as follows:
\subsection{Theoretical}
\begin{align*}
	&\underset{q_t}{\text{argmin}} \text{\qquad \qquad}loss\left( q_t \right)\\ 
	&\text{subject to}
		\text{\qquad\quad} 0 \le q_t \le  c_t \text{\qquad} t = 1,\ldots,T
.\end{align*}

This allows us to find the optimal amount of units to order, $q_t*$, in order to minimize the expected cost of the supply chain,
thus optimizing the supply chain robustness by preventing stockouts and minimizing storage costs.

\section{Problem Solution: Numerical Optimization}
As we are solving this problem numerically, we must define a numerical optimization method.
We will use a grid search of the $\mu \equiv q_t$ parameter, with a step of 1, and then we will use that as an approximation of the optimal value of $q_t$.
This has the advantage of being numerically simple, and it is also easy to implement in a computer program, and its speed can be 
regulated by changing the step size, however sacrificing the accuracy of the prediction.

\section{Example solution: product XXXX}
We will now show an example of the solution of the problem for a certain product, XXXX.
We will assume that the capacity is the maximum of the inventory in the time frame we are looking at, and use the reported sales 
as the supposed sales forecast.

\textbf{imatge}

As we can see in the plot, ...

\section{Example solution: product YYYY}
We will now show an example of the solution of the problem for a certain other product, YYYY.
We will again assume that the capacity is the maximum of the inventory in the time frame we are looking at, and use the reported sales 
as the supposed sales forecast.

\textbf{imatge}

As we can see in the plot, ...

\end{document}
